<div class="header">
  
  <img

    src="https://upload.wikimedia.org/wikipedia/he/b/b0/Bar_Ilan_logo.png"
  />
  <h1>טופס הרשמה לטרקלין בר אילן</h1>
</div>

<div *ngIf="notCompleted; else Completed">
  <form (ngSubmit)="onSubmit()">
    <div class="form-container-box">
      <div class="form-container" *ngFor="let field of fields">
        <div class="label-container">
          <ng-container *ngIf="field.type !== 'select'">
            <input
            [placeholder]="'הכניס/י שם מלא'"
              style="padding: 10px"
              type="{{ field.type }}"
              [name]="field.name"
              [(ngModel)]="field.value"
              [required]="field.required"
            />
          </ng-container>
          <ng-container *ngIf="field.type === 'select'">
            <select
              (ngModelChange)="changeSelect($event)"
              style="padding: 10px"
              [name]="field.name"
              [(ngModel)]="field.value"
              [required]="field.required"
            >
              <option
                [disabled]="option.disabled"
                *ngFor="let option of field.options"
                [value]="option.value"
              >
                {{ option.label }}
              </option>
            </select>
          </ng-container>
          <ng-container *ngIf="field.type === 'radio'">
            <div *ngFor="let option of field.options">
              <input
                  dir="rtl"
                type="radio"
                [name]="field.name"
                [value]="option.value"
                [(ngModel)]="field.value"
                [required]="field.required"
              >
              <label>{{ option.label }}</label>
            </div>
          </ng-container>
        </div>
      </div>
      <div style="display: flex; justify-content: center; padding-bottom: 40px; padding-top: 80px;">
        <button
        class="submit-button"
        type="submit"
        >
          שלח
        </button>
      </div>
      <app-loader *ngIf="loading"></app-loader>
    </div>
  </form>

  <div
    *ngIf="isError"
    class="error"
    style="
      color: red;
      flex-direction: row;
      justify-content: center;
      text-align: center;
      padding-top: 100px;
      font-size: 28px;
      font-weight: bold;
    "
  >
    {{ errorMessage }}
  </div>
</div>
<ng-template #Completed>
  <div *ngIf="!notCompleted" class="thankyou-page">תודה שנרשמת 🥳</div>
</ng-template>
